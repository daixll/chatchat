# chatchat

端对端加密的聊天软件

## 简介

1. 账号获取
    * Linux：
        1. 生成私钥：`openssl genpkey -algorithm RSA -out private_key.pem`
        2. 提取公钥：`openssl rsa -pubout -in private_key.pem -out public_key.pem`

2. 登录
    * 使用 **公钥** + **私钥** 登录（每一密钥对意味着一个用户）

3. 添加好友
    * 输入对方的 **IPv6:port** 与 **公钥**
    * 会直接使用对方 **公钥** 的 **注释**（公钥最后部分） 作为 **好友 ID**
    * 只有在双方 **交换** 了公钥之后，才算添加成功（建立连接）

3. 消息安全
    * 发送给 **好友** 的消息，使用 **好友** 的 **公钥** 加密
    * **好友** 收到消息后，使用 **好友自己** 的 **私钥** 解密

## 通信

以下均为 **TCP** 通信，使用 **IPv6** 地址，通信双方均需要在线

* 接收消息
    * 软件会在后台持续监听 **10086**（默认） 端口
    * 收到消息后，首先判断是否是 **好友** 发来的消息
        * 通过发送方的 **公钥**，判断是否是 **好友**
    * 使用 **好友** 的 **公钥** 解密消息

* 发送消息
    1. 将 **消息** 通过好友的 **公钥** 加密
    2. 将 **加密后的消息** 发送给好友